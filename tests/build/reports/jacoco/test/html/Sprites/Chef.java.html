<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Chef.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">tests</a> &gt; <a href="index.source.html" class="el_package">Sprites</a> &gt; <span class="el_source">Chef.java</span></div><h1>Chef.java</h1><pre class="source lang-java linenums">package Sprites;

import Ingredients.*;
import Recipes.*;

import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.Input;
import com.badlogic.gdx.graphics.Texture;
import com.badlogic.gdx.graphics.g2d.Sprite;
import com.badlogic.gdx.graphics.g2d.SpriteBatch;
import com.badlogic.gdx.graphics.g2d.TextureAtlas;
import com.badlogic.gdx.graphics.g2d.TextureRegion;
import com.badlogic.gdx.math.Vector2;
import com.badlogic.gdx.physics.box2d.*;
import com.badlogic.gdx.scenes.scene2d.ui.ProgressBar;
import com.badlogic.gdx.scenes.scene2d.ui.Skin;
import com.team13.piazzapanic.HUD;
import com.team13.piazzapanic.MainGame;

import java.util.Objects;

/**
 * Chef class extends {@link Sprite} and represents a chef in the game.
 * It has fields for the world it exists in, a Box2D body, the initial X and Y
 * positions, a wait timer, collision flag, various textures for different skins,
 * state (UP, DOWN, LEFT, RIGHT), skin needed, fixture of what it is touching, ingredient
 * and recipe in hand, control flag, circle sprite, chef notification X, Y, width and height,
 * and completed dish station.
 */

public class Chef extends Sprite {
    public World world;
    public Body b2body;

    private final float initialX;
    private final float initialY;


    public Vector2 startVector;
    private float waitTimer;

    private float putDownWaitTimer;
    public boolean chefOnChefCollision;
    private final Skin skin;


<span class="fc" id="L47">    public enum State {UP, DOWN, LEFT, RIGHT}</span>

    public State currentState;
    private TextureRegion currentSkin;

    private TextureRegion skinNeeded;

    private Fixture whatTouching;

    private Ingredient inHandsIng;
    private Recipe inHandsRecipe;

    public Boolean userControlChef;

    public Boolean failState;
    private Boolean burnable;
    private HUD hud;

    private final Sprite circleSprite;

    private float notificationX;
    private float notificationY;
    private float notificationWidth;
    private float notificationHeight;

    private CompletedDishStation completedStation;

    public int nextOrderAppearTime;
    public Recipe previousInHandRecipe;

    /**
     * Chef class constructor that initializes all the fields
     * @param world the world the chef exists in
     * @param startX starting X position
     * @param startY starting Y position
     */

<span class="fc" id="L84">    public Chef(World world, float startX, float startY) {</span>
<span class="fc" id="L85">        initialX = startX / MainGame.PPM;</span>
<span class="fc" id="L86">        initialY = startY / MainGame.PPM;</span>

<span class="fc" id="L88">        TextureAtlas chefAtlas = new TextureAtlas(&quot;Chef/chefAtlas.txt&quot;);</span>
<span class="fc" id="L89">        System.out.println(chefAtlas.getRegions());</span>
<span class="fc" id="L90">        skin = new Skin();</span>
<span class="fc" id="L91">        skin.addRegions(chefAtlas);</span>


<span class="fc" id="L94">        skinNeeded = skin.getRegion(&quot;Chef_normal&quot;);</span>

<span class="fc" id="L96">        this.world = world;</span>
<span class="fc" id="L97">        currentState = State.DOWN;</span>

<span class="fc" id="L99">        float chefWidth = 13 / MainGame.PPM;</span>
<span class="fc" id="L100">        float chefHeight = 20 / MainGame.PPM;</span>
<span class="fc" id="L101">        setBounds(0, 0, chefWidth, chefHeight);</span>
<span class="fc" id="L102">        chefOnChefCollision = false;</span>
<span class="fc" id="L103">        waitTimer = 0;</span>
<span class="fc" id="L104">        putDownWaitTimer = 0;</span>
<span class="fc" id="L105">        startVector = new Vector2(0, 0);</span>
<span class="fc" id="L106">        whatTouching = null;</span>
<span class="fc" id="L107">        inHandsIng = null;</span>
<span class="fc" id="L108">        inHandsRecipe = null;</span>
<span class="fc" id="L109">        userControlChef = true;</span>
<span class="fc" id="L110">        Texture circleTexture = new Texture(&quot;Chef/chefIdentifier.png&quot;);</span>
<span class="fc" id="L111">        circleSprite = new Sprite(circleTexture);</span>
<span class="fc" id="L112">        nextOrderAppearTime = 3;</span>
<span class="fc" id="L113">        completedStation = null;</span>
<span class="fc" id="L114">    }</span>
    /**
     * Moves the chef around
     * @param left if true the chef moves to the left
     * @param right if true the chef moves to the right
     * @param down if true the chef moves to the down
     * @param up if true the chef moves to the up
     * @param multiplier speed multiplier for the chef (default is 1)
     */
    public void move(boolean left, boolean right, boolean down, boolean up, float multiplier) {
<span class="fc" id="L124">        float xVelocity = 0;</span>
<span class="fc" id="L125">        float yVelocity = 0;</span>
<span class="fc bfc" id="L126" title="All 2 branches covered.">        if(left) xVelocity -= 0.5f*multiplier;</span>
<span class="fc bfc" id="L127" title="All 2 branches covered.">        if(right) xVelocity += 0.5f*multiplier;</span>
<span class="fc bfc" id="L128" title="All 2 branches covered.">        if(down) yVelocity -= 0.5f*multiplier;</span>
<span class="fc bfc" id="L129" title="All 2 branches covered.">        if(up) yVelocity += 0.5f*multiplier;</span>
<span class="fc" id="L130">        b2body.setLinearVelocity(xVelocity, yVelocity);</span>
<span class="fc" id="L131">    }</span>
    /**
     * Update the position and region of the chef and set the notification position based on the chef's current state.
     *
     * @param dt The delta time.
     */
    public void update(float dt) {
<span class="nc" id="L138">        ProgressBar bar = null;</span>
<span class="nc" id="L139">        boolean barCreated = false;</span>
<span class="nc" id="L140">        setPosition(b2body.getPosition().x - getWidth() / 2, b2body.getPosition().y - getHeight() / 2);</span>
<span class="nc" id="L141">        currentSkin = getSkin(dt);</span>
<span class="nc" id="L142">        setRegion(currentSkin);</span>
<span class="nc bnc" id="L143" title="All 5 branches missed.">        switch (currentState) {</span>
            case UP:
<span class="nc bnc" id="L145" title="All 4 branches missed.">                if (this.inHandsIng == null &amp;&amp; this.inHandsRecipe == null) {</span>
<span class="nc" id="L146">                    notificationX = b2body.getPosition().x - (1.75f / MainGame.PPM);</span>
<span class="nc" id="L147">                    notificationY = b2body.getPosition().y - (7.7f / MainGame.PPM);</span>
                } else {
<span class="nc" id="L149">                    notificationX = b2body.getPosition().x - (0.67f / MainGame.PPM);</span>
<span class="nc" id="L150">                    notificationY = b2body.getPosition().y - (7.2f / MainGame.PPM);</span>
                }
<span class="nc" id="L152">                break;</span>
            case DOWN:
<span class="nc bnc" id="L154" title="All 4 branches missed.">                if (this.inHandsIng == null &amp;&amp; this.inHandsRecipe == null) {</span>
<span class="nc" id="L155">                    notificationX = b2body.getPosition().x + (0.95f / MainGame.PPM);</span>
<span class="nc" id="L156">                    notificationY = b2body.getPosition().y - (5.015f / MainGame.PPM);</span>
                } else {
<span class="nc" id="L158">                    notificationX = b2body.getPosition().x + (0.55f / MainGame.PPM);</span>
<span class="nc" id="L159">                    notificationY = b2body.getPosition().y - (5.3f / MainGame.PPM);</span>
                }
<span class="nc" id="L161">                break;</span>
            case LEFT:
<span class="nc bnc" id="L163" title="All 4 branches missed.">                if (this.inHandsIng == null &amp;&amp; this.inHandsRecipe == null) {</span>
<span class="nc" id="L164">                    notificationX = b2body.getPosition().x;</span>
<span class="nc" id="L165">                    notificationY = b2body.getPosition().y - (5.015f / MainGame.PPM);</span>
                } else {
<span class="nc" id="L167">                    notificationX = b2body.getPosition().x - (1.92f / MainGame.PPM);</span>
<span class="nc" id="L168">                    notificationY = b2body.getPosition().y - (4.6f / MainGame.PPM);</span>
                }
<span class="nc" id="L170">                break;</span>
            case RIGHT:
<span class="nc bnc" id="L172" title="All 4 branches missed.">                if (this.inHandsIng == null &amp;&amp; this.inHandsRecipe == null) {</span>
<span class="nc" id="L173">                    notificationX = b2body.getPosition().x + (0.5f / MainGame.PPM);</span>
<span class="nc" id="L174">                    notificationY = b2body.getPosition().y - (5.015f / MainGame.PPM);</span>
                } else {
<span class="nc" id="L176">                    notificationX = b2body.getPosition().x + (0.17f / MainGame.PPM);</span>
<span class="nc" id="L177">                    notificationY = b2body.getPosition().y - (4.63f / MainGame.PPM);</span>
                }
                break;
        }


<span class="nc bnc" id="L183" title="All 4 branches missed.">        if (!userControlChef &amp;&amp; chefOnChefCollision) {</span>
<span class="nc" id="L184">            waitTimer += dt;</span>
<span class="nc" id="L185">            b2body.setLinearVelocity(new Vector2(startVector.x * -0.25f, startVector.y * -0.25f));</span>
<span class="nc bnc" id="L186" title="All 2 branches missed.">            if (waitTimer &gt; 0.2f) {</span>
<span class="nc" id="L187">                b2body.setLinearVelocity(new Vector2(0, 0));</span>
<span class="nc" id="L188">                chefOnChefCollision = false;</span>
<span class="nc" id="L189">                userControlChef = true;</span>
<span class="nc" id="L190">                waitTimer = 0;</span>
<span class="nc bnc" id="L191" title="All 2 branches missed.">                if (inHandsIng != null) {</span>
<span class="nc" id="L192">                    setChefSkin(inHandsIng);</span>
                }
            }
<span class="nc bnc" id="L195" title="All 4 branches missed.">        } else if (!userControlChef &amp;&amp; getInHandsIng().prepareTime != 0) {</span>
<span class="nc" id="L196">            waitTimer += dt;</span>
<span class="nc bnc" id="L197" title="All 4 branches missed.">            if (waitTimer &gt;= inHandsIng.prepareTime &amp;&amp; inHandsIng.prepareTime != -1) {</span>
<span class="nc" id="L198">                waitTimer = 0;</span>
<span class="nc" id="L199">                inHandsIng.prepareTime = -1;</span>
<span class="nc" id="L200">                hud.createProgressBar(Math.round(this.b2body.getPosition().x*MainGame.PPM)-14,Math.round(this.b2body.getPosition().y*MainGame.PPM)+12, this,9, true);</span>
<span class="nc bnc" id="L201" title="All 2 branches missed.">            } else if (inHandsIng.prepareTime == -1) {</span>
<span class="nc bnc" id="L202" title="All 2 branches missed.">                if (Gdx.input.isKeyJustPressed(Input.Keys.Q)) {</span>
<span class="nc" id="L203">                    resetFailState();</span>
                }
<span class="nc bnc" id="L205" title="All 4 branches missed.">                if (waitTimer &lt;= 3 &amp;&amp; !failState) {</span>
<span class="nc" id="L206">                    inHandsIng.setPrepared();</span>
<span class="nc" id="L207">                    waitTimer = 3;</span>
<span class="nc bnc" id="L208" title="All 2 branches missed.">                } else if (waitTimer &gt; 3) {</span>
<span class="nc bnc" id="L209" title="All 2 branches missed.">                    if (failState) {</span>
<span class="nc" id="L210">                        inHandsIng.setFailed();</span>
                    } else {
<span class="nc" id="L212">                        inHandsIng.setPrepared();</span>
                    }
<span class="nc" id="L214">                    userControlChef = true;</span>
<span class="nc" id="L215">                    waitTimer = 0;</span>
<span class="nc" id="L216">                    inHandsIng.prepareTime = 0;</span>
<span class="nc" id="L217">                    setChefSkin(inHandsIng);</span>
                }
            }
<span class="nc bnc" id="L220" title="All 6 branches missed.">        } else if (!userControlChef &amp;&amp; getInHandsIng().isPrepared() &amp;&amp; inHandsIng.cookTime != -1) {</span>
<span class="nc" id="L221">            waitTimer += dt;</span>
<span class="nc bnc" id="L222" title="All 4 branches missed.">            if (waitTimer &gt;= inHandsIng.cookTime &amp;&amp; inHandsIng.cookTime != 0) {</span>
<span class="nc" id="L223">                waitTimer = 0;</span>
<span class="nc" id="L224">                inHandsIng.cookTime = 0;</span>
<span class="nc" id="L225">                System.out.println(&quot;A&quot;);</span>
<span class="nc bnc" id="L226" title="All 2 branches missed.">            }else if (inHandsIng.cookTime == 0) {</span>
<span class="nc" id="L227">                System.out.println(&quot;B&quot;);</span>
<span class="nc bnc" id="L228" title="All 2 branches missed.">                if(!barCreated){</span>
<span class="nc" id="L229">                    bar = hud.createProgressBar(Math.round(this.b2body.getPosition().x*MainGame.PPM)-14,Math.round(this.b2body.getPosition().y*MainGame.PPM)+12, this,9, true);</span>
<span class="nc" id="L230">                    barCreated = true;</span>
                }
<span class="nc bnc" id="L232" title="All 2 branches missed.">                if (Gdx.input.isKeyJustPressed(Input.Keys.Q)) {</span>
<span class="nc" id="L233">                    resetFailState();</span>
<span class="nc" id="L234">                    System.out.println(&quot;C&quot;);</span>
                }
<span class="nc bnc" id="L236" title="All 4 branches missed.">                if (waitTimer &lt;= 3 &amp;&amp; !failState) {</span>
<span class="nc" id="L237">                    System.out.println(&quot;D&quot;);</span>
<span class="nc" id="L238">                    inHandsIng.setCooked();</span>
<span class="nc" id="L239">                    hud.removeBar(bar);</span>
<span class="nc" id="L240">                    waitTimer = 3;</span>

<span class="nc bnc" id="L242" title="All 2 branches missed.">                } else if (waitTimer &gt; 3) {</span>
<span class="nc" id="L243">                    System.out.println(&quot;E&quot;);</span>
<span class="nc bnc" id="L244" title="All 2 branches missed.">                    if (failState) {</span>
<span class="nc" id="L245">                        System.out.println(&quot;F&quot;);</span>
<span class="nc" id="L246">                        inHandsIng.setFailed();</span>
<span class="nc" id="L247">                        barCreated = true;</span>
                    } else {
<span class="nc" id="L249">                        inHandsIng.setCooked();</span>
<span class="nc" id="L250">                        System.out.println(&quot;G&quot;);</span>
                    }
<span class="nc" id="L252">                    userControlChef = true;</span>
<span class="nc" id="L253">                    waitTimer = 0;</span>
<span class="nc" id="L254">                    inHandsIng.cookTime = -1;</span>
<span class="nc" id="L255">                    setChefSkin(inHandsIng);</span>
<span class="nc" id="L256">                    hud.removeBar(bar);</span>
                }
            }
        }
<span class="nc" id="L260">    }</span>




    /**
     * This method sets the bounds for the notification based on the given direction.
     * @param direction - A string representing the direction of the notification.
     *                   Can be &quot;Left&quot;, &quot;Right&quot;, &quot;Up&quot;, or &quot;Down&quot;.
     */

    public void notificationSetBounds(String direction) {
<span class="nc bnc" id="L272" title="All 4 branches missed.">        switch (direction) {</span>
            case &quot;Left&quot;:
            case &quot;Right&quot;:
<span class="nc" id="L275">                notificationWidth = 1.5f / MainGame.PPM;</span>
<span class="nc" id="L276">                notificationHeight = 1.5f / MainGame.PPM;</span>
<span class="nc" id="L277">                break;</span>
            case &quot;Up&quot;:
<span class="nc" id="L279">                notificationWidth = 4 / MainGame.PPM;</span>
<span class="nc" id="L280">                notificationHeight = 4 / MainGame.PPM;</span>
<span class="nc" id="L281">                break;</span>
            case &quot;Down&quot;:
<span class="nc" id="L283">                notificationWidth = 2 / MainGame.PPM;</span>
<span class="nc" id="L284">                notificationHeight = 2 / MainGame.PPM;</span>
                break;
        }
<span class="nc" id="L287">    }</span>

    /**
     Draws a notification to help the user understand what chef they are controlling.
     The notification is a sprite that looks like at &quot;C&quot; on the controlled chef.
     @param batch The sprite batch that the notification should be drawn with.
     */
    public void drawNotification(SpriteBatch batch) {
<span class="nc bnc" id="L295" title="All 2 branches missed.">        if (this.getUserControlChef()) {</span>
<span class="nc" id="L296">            circleSprite.setBounds(notificationX, notificationY, notificationWidth, notificationHeight);</span>
<span class="nc" id="L297">            circleSprite.draw(batch);</span>
        }
<span class="nc" id="L299">    }</span>

    /**
     * Get the texture region for the current state of the player.
     *
     * @param dt the time difference between this and the last frame
     * @return the texture region for the player's current state
     */

    private TextureRegion getSkin(float dt) {
<span class="nc" id="L309">        currentState = getState();</span>

        TextureRegion region;
<span class="nc bnc" id="L312" title="All 5 branches missed.">        switch (currentState) {</span>
            case UP:
<span class="nc" id="L314">                region = new TextureRegion(skinNeeded, 0, 0, 33, 46);</span>
<span class="nc" id="L315">                break;</span>
            case DOWN:
<span class="nc" id="L317">                region = new TextureRegion(skinNeeded, 33, 0, 33, 46);</span>
<span class="nc" id="L318">                break;</span>
            case LEFT:
<span class="nc" id="L320">                region = new TextureRegion(skinNeeded, 64, 0, 33, 46);</span>
<span class="nc" id="L321">                break;</span>
            case RIGHT:
<span class="nc" id="L323">                region = new TextureRegion(skinNeeded, 96, 0, 33, 46);</span>
<span class="nc" id="L324">                break;</span>
            default:
<span class="nc" id="L326">                region = currentSkin;</span>
        }
<span class="nc" id="L328">        return region;</span>
    }


    /**
     Returns the current state of the player based on the controlled chefs velocity.
     @return current state of the player - UP, DOWN, LEFT, or RIGHT
     */
    public State getState() {
<span class="nc bnc" id="L337" title="All 2 branches missed.">        if (b2body.getLinearVelocity().y &gt; 0)</span>
<span class="nc" id="L338">            return State.UP;</span>
<span class="nc bnc" id="L339" title="All 2 branches missed.">        if (b2body.getLinearVelocity().y &lt; 0)</span>
<span class="nc" id="L340">            return State.DOWN;</span>
<span class="nc bnc" id="L341" title="All 2 branches missed.">        if (b2body.getLinearVelocity().x &gt; 0)</span>
<span class="nc" id="L342">            return State.RIGHT;</span>
<span class="nc bnc" id="L343" title="All 2 branches missed.">        if (b2body.getLinearVelocity().x &lt; 0)</span>
<span class="nc" id="L344">            return State.LEFT;</span>
        else
<span class="nc" id="L346">            return currentState;</span>
    }

    /**
     * Define the body and fixture of the chef object.
     *
     * This method creates a dynamic body definition and sets its position with the `initialX` and `initialY`
     * variables, then creates the body in the physics world. A fixture definition is also created and a
     * circle shape is set with a radius of `4.5f / MainGame.PPM` and a position shifted by `(0.5f / MainGame.PPM)`
     * in the x-axis and `-(5.5f / MainGame.PPM)` in the y-axis. The created fixture is then set as the user data
     * of the chef object.
     */

    public void defineChef() {
<span class="fc" id="L360">        BodyDef bdef = new BodyDef();</span>
<span class="fc" id="L361">        bdef.position.set(initialX, initialY);</span>
<span class="fc" id="L362">        bdef.type = BodyDef.BodyType.DynamicBody;</span>
<span class="fc" id="L363">        b2body = world.createBody(bdef);</span>

<span class="fc" id="L365">        FixtureDef fdef = new FixtureDef();</span>
<span class="fc" id="L366">        CircleShape shape = new CircleShape();</span>
<span class="fc" id="L367">        shape.setRadius(4.5f / MainGame.PPM);</span>
<span class="fc" id="L368">        shape.setPosition(new Vector2(shape.getPosition().x + (0.5f / MainGame.PPM), shape.getPosition().y - (5.5f / MainGame.PPM)));</span>


<span class="fc" id="L371">        fdef.shape = shape;</span>
<span class="fc" id="L372">        b2body.createFixture(fdef).setUserData(this);</span>
<span class="fc" id="L373">    }</span>


    /**
     * Method to set the skin of the chef character based on the item the chef is holding.
     *
     * @param item the item that chef is holding
     *
     * The skin is set based on the following cases:
     * - if item is null, then the skin is set to normalChef
     * - if item is a Lettuce, then the skin is set to
     *    - choppedLettuceChef if the lettuce is prepared
     *    - lettuceChef if the lettuce is not prepared
     * - if item is a Steak, then the skin is set to
     *    - burgerChef if the steak is prepared and cooked
     *    - pattyChef if the steak is prepared but not cooked
     *    - meatChef if the steak is not prepared
     * - if item is an Onion, then the skin is set to
     *    - choppedOnionChef if the onion is prepared
     *    - onionChef if the onion is not prepared
     * - if item is a Tomato, then the skin is set to
     *    - choppedTomatoChef if the tomato is prepared
     *    - tomatoChef if the tomato is not prepared
     * - if item is a Bun, then the skin is set to
     *    - bunsToastedChef if the bun is cooked
     *    - bunsChef if the bun is not cooked
     * - if item is a BurgerRecipe, then the skin is set to completedBurgerChef
     * - if item is a SaladRecipe, then the skin is set to saladChef
     */

    public void setChefSkin(Object item) {
<span class="pc bpc" id="L404" title="1 of 2 branches missed.">        if (item == null) {</span>
<span class="nc" id="L405">            skinNeeded = skin.getRegion(&quot;Chef_normal&quot;);</span>
<span class="pc bpc" id="L406" title="2 of 4 branches missed.">        } else if (inHandsIng != null &amp;&amp; inHandsIng.isFailed()){</span>
<span class="nc" id="L407">            skinNeeded = skin.getRegion(&quot;Chef_holding_failed&quot;);</span>
<span class="pc bpc" id="L408" title="1 of 2 branches missed.">        } else if (item instanceof Lettuce) {</span>
<span class="nc bnc" id="L409" title="All 2 branches missed.">            if (inHandsIng.isPrepared()) {</span>
<span class="nc" id="L410">                skinNeeded = skin.getRegion(&quot;Chef_holding_chopped_lettuce&quot;);</span>
            } else {
<span class="nc" id="L412">                skinNeeded = skin.getRegion(&quot;Chef_holding_lettuce&quot;);</span>
            }
<span class="pc bpc" id="L414" title="1 of 2 branches missed.">        } else if (item instanceof Steak) {</span>
<span class="nc bnc" id="L415" title="All 4 branches missed.">            if (inHandsIng.isPrepared() &amp;&amp; inHandsIng.isCooked()) {</span>
<span class="nc" id="L416">                skinNeeded = skin.getRegion(&quot;Chef_holding_burger&quot;);</span>
<span class="nc bnc" id="L417" title="All 2 branches missed.">            } else if (inHandsIng.isPrepared()) {</span>
<span class="nc" id="L418">                skinNeeded = skin.getRegion(&quot;Chef_holding_patty&quot;);</span>
            } else {
<span class="nc" id="L420">                skinNeeded = skin.getRegion(&quot;Chef_holding_meat&quot;);</span>
            }
<span class="pc bpc" id="L422" title="1 of 2 branches missed.">        } else if (item instanceof Onion) {</span>
<span class="pc bpc" id="L423" title="1 of 2 branches missed.">            if (inHandsIng.isPrepared()) {</span>
<span class="nc" id="L424">                skinNeeded = skin.getRegion(&quot;Chef_holding_chopped_onion&quot;);</span>
            } else {
<span class="fc" id="L426">                skinNeeded = skin.getRegion(&quot;Chef_holding_onion&quot;);</span>
            }
<span class="nc bnc" id="L428" title="All 2 branches missed.">        } else if (item instanceof Tomato) {</span>
<span class="nc bnc" id="L429" title="All 2 branches missed.">            if (inHandsIng.isPrepared()) {</span>
<span class="nc" id="L430">                skinNeeded = skin.getRegion(&quot;Chef_holding_chopped_tomato&quot;);</span>
            } else {
<span class="nc" id="L432">                skinNeeded = skin.getRegion(&quot;Chef_holding_tomato&quot;);</span>
            }
<span class="nc bnc" id="L434" title="All 2 branches missed.">        }else if (item instanceof PizzaSauce) {</span>
<span class="nc" id="L435">            skinNeeded = skin.getRegion(&quot;Chef_holding_tomato&quot;);</span>
<span class="nc bnc" id="L436" title="All 2 branches missed.">        } else if (item instanceof Bun) {</span>
<span class="nc bnc" id="L437" title="All 2 branches missed.">            if (inHandsIng.isCooked()) {</span>
<span class="nc" id="L438">                skinNeeded = skin.getRegion(&quot;Chef_holding_buns_toasted&quot;);</span>
            } else {
<span class="nc" id="L440">                skinNeeded = skin.getRegion(&quot;Chef_holding_buns&quot;);</span>
            }
<span class="nc bnc" id="L442" title="All 2 branches missed.">        } else if (item instanceof Potato) {</span>
<span class="nc bnc" id="L443" title="All 2 branches missed.">            if (inHandsIng.isCooked()) {</span>
<span class="nc" id="L444">                skinNeeded = skin.getRegion(&quot;Chef_holding_baked_potato&quot;);</span>
            } else {
<span class="nc" id="L446">                skinNeeded = skin.getRegion(&quot;Chef_holding_potato&quot;);</span>
            }
<span class="nc bnc" id="L448" title="All 2 branches missed.">        } else if (item instanceof PizzaDough) {</span>
<span class="nc bnc" id="L449" title="All 2 branches missed.">            if (inHandsIng.isCooked()) {</span>
                // TODO make actual texture for prepared pizza dough
<span class="nc" id="L451">                skinNeeded = skin.getRegion(&quot;Chef_holding_pizzadough&quot;);</span>
            } else {
<span class="nc" id="L453">                skinNeeded = skin.getRegion(&quot;Chef_holding_pizzadough&quot;);</span>
            }
<span class="nc bnc" id="L455" title="All 2 branches missed.">        } else if (item instanceof Cheese) {</span>
<span class="nc bnc" id="L456" title="All 2 branches missed.">            if (inHandsIng.isPrepared()) {</span>
<span class="nc" id="L457">                skinNeeded = skin.getRegion(&quot;Chef_holding_chopped_cheese&quot;);</span>
            } else {
<span class="nc" id="L459">                skinNeeded = skin.getRegion(&quot;Chef_holding_cheese&quot;);</span>
            }
<span class="nc bnc" id="L461" title="All 2 branches missed.">        } else if (item instanceof UnbakedPizza) {</span>
<span class="nc" id="L462">            skinNeeded = skin.getRegion(&quot;Chef_holding_burger&quot;);</span>
<span class="nc bnc" id="L463" title="All 2 branches missed.">        } else if (item instanceof BurgerRecipe) {</span>
<span class="nc" id="L464">            skinNeeded = skin.getRegion(&quot;Chef_holding_complete_burger&quot;);</span>
<span class="nc bnc" id="L465" title="All 2 branches missed.">        } else if (item instanceof SaladRecipe) {</span>
<span class="nc" id="L466">            skinNeeded = skin.getRegion(&quot;Chef_holding_salad&quot;);</span>
<span class="nc bnc" id="L467" title="All 2 branches missed.">        } else if (item instanceof JacketPotatoRecipe) {</span>
<span class="nc" id="L468">            skinNeeded = skin.getRegion(&quot;Chef_holding_baked_potato&quot;);</span>
<span class="nc bnc" id="L469" title="All 2 branches missed.">        } else if (item instanceof UnbakedPizzaRecipe) {</span>
<span class="nc" id="L470">            skinNeeded = skin.getRegion(&quot;Chef_holding_burger&quot;);</span>
<span class="nc bnc" id="L471" title="All 2 branches missed.">        } else if (item instanceof PizzaRecipe) {</span>
<span class="nc" id="L472">            skinNeeded = skin.getRegion(&quot;Chef_holding_baked_potato&quot;);</span>
        }
<span class="fc" id="L474">        }</span>
    /**
     * Method to display the ingredient on the specific interactive tile objects (ChoppingBoard/Pan)
     * @param batch the SpriteBatch used to render the texture.
     */

    public void displayIngStatic(SpriteBatch batch) {
<span class="nc" id="L481">        Gdx.app.log(&quot;&quot;, inHandsIng.toString());</span>
<span class="nc bnc" id="L482" title="All 4 branches missed.">        if (whatTouching != null &amp;&amp; !chefOnChefCollision) {</span>
<span class="nc" id="L483">            InteractiveTileObject tile = (InteractiveTileObject) whatTouching.getUserData();</span>
<span class="nc bnc" id="L484" title="All 2 branches missed.">            if (tile instanceof ChoppingBoard) {</span>
<span class="nc" id="L485">                ChoppingBoard tileNew = (ChoppingBoard) tile;</span>
<span class="nc" id="L486">                inHandsIng.create(tileNew.getX() - (0.5f / MainGame.PPM), tileNew.getY() - (0.2f / MainGame.PPM), batch);</span>
<span class="nc" id="L487">                setChefSkin(null);</span>
<span class="nc bnc" id="L488" title="All 2 branches missed.">            } else if (tile instanceof Pan) {</span>
<span class="nc" id="L489">                Pan tileNew = (Pan) tile;</span>
<span class="nc" id="L490">                inHandsIng.create(tileNew.getX(), tileNew.getY() - (0.01f / MainGame.PPM), batch);</span>
<span class="nc" id="L491">                setChefSkin(null);</span>
            }
        }
<span class="nc" id="L494">    }</span>

    /**
     * The method creates an instance of the recipe and sets its position on the completed station coordinates.
     * The method also implements a timer for each ingredient which gets removed from the screen after a certain amount of time.
     *
     * @param batch The batch used for drawing the sprite on the screen
     */

    public void displayIngDynamic(SpriteBatch batch){
<span class="nc" id="L504">        putDownWaitTimer += 1/60f;</span>
<span class="nc" id="L505">        previousInHandRecipe.create(completedStation.getX(), completedStation.getY() - (0.01f / MainGame.PPM), batch);</span>
<span class="nc bnc" id="L506" title="All 2 branches missed.">        if (putDownWaitTimer &gt; nextOrderAppearTime) {</span>
<span class="nc" id="L507">            previousInHandRecipe = null;</span>
<span class="nc" id="L508">            putDownWaitTimer = 0;</span>
        }
<span class="nc" id="L510">    }</span>

    /**

      * This method updates the state of the chef when it is in a collision with another chef.
      * The method sets the userControlChef to false, meaning the user cannot control the chef while it's in collision.
      * It also sets the chefOnChefCollision to true, indicating that the chef is in collision with another chef.
      * Finally, it calls the setStartVector method to update the position of the chef.
     */
        public void chefsColliding () {
<span class="nc" id="L520">            userControlChef = false;</span>
<span class="nc" id="L521">            chefOnChefCollision = true;</span>
<span class="nc" id="L522">            setStartVector();</span>
<span class="nc" id="L523">        }</span>

    /**
     * Set the starting velocity vector of the chef
     * when the chef collides with another chef
     *
     */
    public void setStartVector () {
<span class="nc" id="L531">        startVector = new Vector2(b2body.getLinearVelocity().x, b2body.getLinearVelocity().y);</span>
<span class="nc" id="L532">    }</span>

    /**
     * Set the touching tile fixture
     *
     * @param obj fixture that the chef is touching
     */
    public void setTouchingTile (Fixture obj){
<span class="nc" id="L540">        this.whatTouching = obj;</span>
<span class="nc" id="L541">    }</span>

    /**
     * Get the fixture that the chef is touching
     *
     * @return the fixture that the chef is touching
     */
    public Fixture getTouchingTile () {
<span class="nc bnc" id="L549" title="All 2 branches missed.">        if (whatTouching == null) {</span>
<span class="nc" id="L550">            return null;</span>
        } else {
<span class="nc" id="L552">            return whatTouching;</span>
        }
    }

    /**
     * Get the ingredient that the chef is holding
     *
     * @return the ingredient that the chef is holding
     */
    public Ingredient getInHandsIng () {
<span class="fc" id="L562">        return inHandsIng;</span>
    }

    /**
     * Get the recipe that the chef is holding
     *
     * @return the recipe that the chef is holding
     */
    public Recipe getInHandsRecipe () {
<span class="nc" id="L571">        return inHandsRecipe;</span>
    }

    /**
     * Set the ingredient that the chef is holding
     *
     * @param ing the ingredient that the chef is holding
     */
    public void setInHandsIng (Ingredient ing){
<span class="fc" id="L580">        inHandsIng = ing;</span>
<span class="fc" id="L581">        inHandsRecipe = null;</span>
<span class="fc" id="L582">    }</span>

    /**
     * Set the recipe that the chef is holding
     *
     * @param recipe the recipe that the chef is holding
     */
    public void setInHandsRecipe (Recipe recipe){
<span class="fc" id="L590">        inHandsRecipe = recipe;</span>
<span class="fc" id="L591">        inHandsIng = null;</span>
<span class="fc" id="L592">    }</span>

    /**
     * Set the chef's control by the user
     *
     * @param value whether the chef is controlled by the user
     */
    public void setUserControlChef ( boolean value){
<span class="fc" id="L600">        userControlChef = value;</span>

<span class="fc" id="L602">    }</span>

    /**

     * Returns a boolean value indicating whether the chef is under user control.
     * If not specified, returns false.
     *
     * @return userControlChef The boolean value indicating chef's control.
     */
    public boolean getUserControlChef () {
<span class="pc bpc" id="L612" title="1 of 2 branches missed.">            if(userControlChef == null){</span>
<span class="nc" id="L613">                return false;</span>
            } else {
<span class="fc" id="L615">                return userControlChef;</span>
            }
            //return Objects.requireNonNullElse(userControlChef, false);
        }


    /**
      * Drops the given ingredient on a plate station.
      * @param station The plate station to drop the ingredient on.
      * @param ing The ingredient to be dropped.
     */

    public void dropItemOn (InteractiveTileObject station, Ingredient ing){
<span class="pc bpc" id="L628" title="1 of 2 branches missed.">        if (station instanceof PlateStation) {</span>
<span class="fc" id="L629">                ((PlateStation) station).dropItem(ing);</span>
        }
<span class="fc" id="L631">        setInHandsRecipe(null);</span>
<span class="fc" id="L632">    }</span>

    /**
     * Drops the in-hand recipe on a completed dish station and saves the previous in-hand recipe.
     *
     * @param station The completed dish station to drop the recipe on.
     */
        public void dropItemOn (InteractiveTileObject station){
<span class="nc bnc" id="L640" title="All 2 branches missed.">            if (station instanceof CompletedDishStation) {</span>
<span class="nc" id="L641">                previousInHandRecipe = getInHandsRecipe();</span>
<span class="nc" id="L642">                completedStation = (CompletedDishStation) station;</span>
            }
<span class="nc" id="L644">            setInHandsRecipe(null);</span>
<span class="nc" id="L645">        }</span>

    /**
     * Picks up an item from a plate station and sets it as in-hand ingredient or recipe.
     *
     * @param station The plate station to pick up the item from.
     */
    public void pickUpItemFrom(InteractiveTileObject station){
<span class="pc bpc" id="L653" title="1 of 2 branches missed.">        if (station instanceof PlateStation){</span>
<span class="fc" id="L654">            PlateStation pStation = (PlateStation) station;</span>
<span class="fc" id="L655">            Object item = pStation.pickUpItem();</span>
<span class="pc bpc" id="L656" title="1 of 2 branches missed.">            if (item instanceof Ingredient){</span>
<span class="fc" id="L657">                setInHandsIng((Ingredient) item);</span>
<span class="fc" id="L658">                setChefSkin(item);</span>
<span class="nc bnc" id="L659" title="All 2 branches missed.">            } else if (item instanceof Recipe){</span>
<span class="nc" id="L660">                setInHandsRecipe(((Recipe) item));</span>
<span class="nc" id="L661">                setChefSkin(item);</span>
            }
        }
<span class="fc" id="L664">    }</span>

    public void setFailState(){
<span class="nc" id="L667">        failState = true;</span>
<span class="nc" id="L668">    }</span>

    public void resetFailState(){
<span class="nc" id="L671">        failState = false;</span>
<span class="nc" id="L672">    }</span>

    public void setHUD(HUD hud){
<span class="nc" id="L675">        this.hud = hud;</span>
<span class="nc" id="L676">    }</span>
}



</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>